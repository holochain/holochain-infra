{
  "version": 4,
  "terraform_version": "1.6.1",
  "serial": 290,
  "lineage": "e6a55684-85ee-b3d6-b507-dece9af50fa7",
  "outputs": {
    "vm0_console_url": {
      "value": "10.1.3.1:20002",
      "type": "string"
    },
    "vm0_mycelium_ip": {
      "value": "489:6890:4bb0:c3e3:ff0f:b200:ba0b:3a42",
      "type": "string"
    },
    "vm0_wg_config": {
      "value": "\n[Interface]\nAddress = 100.64.1.2\nPrivateKey = KPRSWDu+R2wWiDvYzd0wstD8zYDXIe/ApPNV6xE5xWc=\n[Peer]\nPublicKey = f6gk+ASim/8Fg/4ckJrzBKF1JM5KIH6deimWRJEz1F4=\nAllowedIPs = 10.1.0.0/16, 100.64.0.0/16\nPersistentKeepalive = 25\nEndpoint = 185.206.122.32:28788\n\t",
      "type": "string"
    },
    "vm0_zmachine1_ip": {
      "value": "10.1.3.2",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "sops_file",
      "name": "static-age-keys",
      "provider": "provider[\"registry.opentofu.org/carlpett/sops\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "data": {
              "tfgrid-shared": "# created: 2024-04-08T21:23:13+02:00\n# public key: age194xfar0gfdauu2dcxwqk9lh9d0vjfrzzs2ke0ppanpwv9eqxzs2qp7q7cn\nAGE-SECRET-KEY-1TXFF3LUNE03CXTE6RWPNFTYNG4WYK7XRHK9ZCSJUGAY7D073JZSSDDMGS9\n"
            },
            "id": "-",
            "input_type": null,
            "raw": "tfgrid-shared: |\n    # created: 2024-04-08T21:23:13+02:00\n    # public key: age194xfar0gfdauu2dcxwqk9lh9d0vjfrzzs2ke0ppanpwv9eqxzs2qp7q7cn\n    AGE-SECRET-KEY-1TXFF3LUNE03CXTE6RWPNFTYNG4WYK7XRHK9ZCSJUGAY7D073JZSSDDMGS9\n",
            "source_file": "../secrets/static-age-keys.yaml"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "grid_deployment",
      "name": "d1",
      "provider": "provider[\"registry.opentofu.org/threefoldtech/grid\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "disks": [],
            "id": "107251",
            "ip_range": null,
            "name": "vm",
            "network_name": "steveej_vm0",
            "node": 195,
            "qsfs": [],
            "solution_provider": 0,
            "solution_type": "Virtual Machine",
            "timeouts": null,
            "vms": [
              {
                "computedip": "",
                "computedip6": "",
                "console_url": "10.1.3.1:20002",
                "corex": false,
                "cpu": 8,
                "description": "",
                "entrypoint": "/init",
                "env_vars": {
                  "DEPLOYMENT": "tofu",
                  "SSH_KEY": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDAIODJoJ7Chi8jPTGmKQ5MlB7+TgNGznreeRW/K34v1ey23/FlnIxP9XyyLkzojKALTfAQYgqzrQV3HDSRwhd1rXB7YLq1/CiVWRJvDMTkJiOCV515eiUJGXu1G8e12d/USPNBMEzMJGvqBCIGYen5OxXkyIHIREfePNi5k337G5z9fiuiggxJl9ty6qZ4XIRgFQj9jAoShixP/+99I7XrGWeFQ1BmLZWzi20SQGKvogYnOszDZFqBAHGFnCFYHaTz2jOXXCtQsa27gr8D2iLRFaxvhB7XMK+VbpDcZGjmfRJ701XxFv15GFnFAV71hTaYqj/Ebpw9Vs02+gUp3+tt cardno:17_673_080"
                },
                "flist": "https://sj-bm-hostkey0.dev.infra.holochain.org/s3/tfgrid-eval/tfgrid-base.20240408.190655.fl",
                "flist_checksum": "",
                "gpus": null,
                "ip": "10.1.3.2",
                "memory": 4096,
                "mounts": [],
                "mycelium_ip": "489:6890:4bb0:c3e3:ff0f:b200:ba0b:3a42",
                "mycelium_ip_seed": "b200ba0b3a42",
                "name": "steveej_vm0",
                "planetary": false,
                "planetary_ip": "",
                "publicip": false,
                "publicip6": false,
                "rootfs_size": 20000,
                "zlogs": null
              }
            ],
            "zdbs": []
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "vms"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "mycelium_ip_seed"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.sops_file.static-age-keys",
            "grid_network.net0",
            "random_bytes.mycelium_ip_seed",
            "random_bytes.mycelium_key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "grid_network",
      "name": "net0",
      "provider": "provider[\"registry.opentofu.org/threefoldtech/grid\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_wg_config": "\n[Interface]\nAddress = 100.64.1.2\nPrivateKey = KPRSWDu+R2wWiDvYzd0wstD8zYDXIe/ApPNV6xE5xWc=\n[Peer]\nPublicKey = f6gk+ASim/8Fg/4ckJrzBKF1JM5KIH6deimWRJEz1F4=\nAllowedIPs = 10.1.0.0/16, 100.64.0.0/16\nPersistentKeepalive = 25\nEndpoint = 185.206.122.32:28788\n\t",
            "add_wg_access": true,
            "description": "newer network",
            "external_ip": "10.1.2.0/24",
            "external_sk": "KPRSWDu+R2wWiDvYzd0wstD8zYDXIe/ApPNV6xE5xWc=",
            "id": "777f9639-3640-44c5-9a9c-86fc100f48b9",
            "ip_range": "10.1.0.0/16",
            "mycelium_keys": {
              "195": "c82b5f075bfe4b3836654e2ce1703daa486700b678adcb8689fe705419bd1b3b"
            },
            "name": "steveej_vm0",
            "node_deployment_id": {
              "11": 107249,
              "195": 107250
            },
            "nodes": [
              195
            ],
            "nodes_ip_range": {
              "11": "10.1.4.0/24",
              "195": "10.1.3.0/24"
            },
            "public_node_id": 11,
            "solution_type": "Network"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "mycelium_keys"
              },
              {
                "type": "index",
                "value": {
                  "value": "195",
                  "type": "string"
                }
              }
            ]
          ],
          "private": "bnVsbA==",
          "dependencies": [
            "random_bytes.mycelium_key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_bytes",
      "name": "mycelium_ip_seed",
      "provider": "provider[\"registry.opentofu.org/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64": "sgC6CzpC",
            "hex": "b200ba0b3a42",
            "keepers": null,
            "length": 6
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_bytes",
      "name": "mycelium_key",
      "provider": "provider[\"registry.opentofu.org/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64": "yCtfB1v+Szg2ZU4s4XA9qkhnALZ4rcuGif5wVBm9Gzs=",
            "hex": "c82b5f075bfe4b3836654e2ce1703daa486700b678adcb8689fe705419bd1b3b",
            "keepers": null,
            "length": 32
          },
          "sensitive_attributes": []
        }
      ]
    }
  ],
  "check_results": null
}
